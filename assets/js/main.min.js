window.Shareaholic=window.Shareaholic||{};window.shareaholic_debug=!0;Shareaholic.bind_button_clicks=function(a,b){b&&$(a.selector).off("click.app_settings");$(a.selector).off("click.app_settings").on("click.app_settings",function(b){b.preventDefault();url=a.url(this);$frame=$("<iframe>",{src:url}).appendTo("#iframe_container");a.callback&&a.callback(this);$("#editing_modal").reveal({topPosition:50,close:function(){a.close&&a.close(button);$frame.remove()}})})};
Shareaholic.click_objects={app_settings:{selector:"#app_settings button",url:function(a){id=$(a).data("location_id");app=$(a).data("app");url=first_part_of_url+$(a).data("href")+"?embedded=true&verification_key="+verification_key;return url=url.replace(/{{id}}/,id)},callback:function(a){id=$(a).data("location_id");app=$(a).data("app");text="You can also this shortcode to place this {{app}} App anywhere.";html="<div id='shortcode_container'>         <span id='shortcode_description'></span>         <textarea id='shortcode' name='widget_div' onclick='select();' readonly='readonly'></textarea>       </div>";
$(html).appendTo(".reveal-modal");$("#shortcode_description").text(text.replace(/{{app}}/,Shareaholic.titlecase(app)));$("#shortcode").text('[shareaholic app="'+app+'" id="'+id+'"]')},close:function(a){$("#shortcode_container").remove()}},general_settings:{selector:"#general_settings",url:function(a){return first_part_of_url+"edit?embedded=true&verification_key="+verification_key},callback:function(a){$("#iframe_container").css("height","100%");$("#iframe_container iframe").css("height","100%")}}};
Shareaholic.Utils.PostMessage.receive("settings_saved",{success:function(a){setTimeout(function(){$('input[type="submit"]').click()},100)},failure:function(a){console.log(a)}});Shareaholic.titlecase=function(a){return a.charAt(0).toUpperCase()+a.replace(/_[a-z]/g,function(a){return a.toUpperCase().replace(/_/," ")}).slice(1)};Shareaholic.disable_buttons=function(){$("#app_settings button").each(function(){$(this).data("location_id")?$(this).removeAttr("disabled"):$(this).attr("disabled","disabled")})};
Shareaholic.create_new_location=function(a){button=$(a).siblings("button");app=button.data("app");location_id=button.data("location_id");location_id||(data={},data["configuration_"+app+"_location"]={name:/.*\[(.*)\]/.exec($(a).attr("name"))[1]},$.ajax({url:first_part_of_url+app+"/locations.json",type:"POST",data:data,success:function(a,d,c){a.action="shareaholic_add_location";button.data("location_id",a.location.id);Shareaholic.disable_buttons();Shareaholic.submit_to_admin(a,function(a){console.log(a)})},
failure:function(a){console.log(a)},xhrFields:{withCredentials:!0}}))};Shareaholic.submit_to_admin=function(a,b){$.ajax({url:ajaxurl,type:"POST",data:a,success:function(a){try{a=JSON.parse(a)}catch(c){a={}}b(a)},failure:function(a){try{a=JSON.parse(a)}catch(c){a={}}b(a)}})};
$(document).ready(function(){Shareaholic.disable_buttons();for(button in Shareaholic.click_objects)Shareaholic.bind_button_clicks(Shareaholic.click_objects[button]);$("#terms_of_service_modal").reveal({closeonbackgroundclick:!1,closeonescape:!1,topPosition:100});$("#failed_to_create_api_key").reveal({closeonbackgroundclick:!1,closeonescape:!1});$("#get_started").on("click",function(a){a.preventDefault();data={action:"shareaholic_accept_terms_of_service"};Shareaholic.submit_to_admin(data,function(){location.reload()})});
$("form input[type=checkbox]").on("click",function(){$(this).is(":checked")&&!$(this).data("location_id")&&Shareaholic.create_new_location(this)})});
